# 楽天ROOM投稿完全自動化システム

GitHub Actionsを使用した、毎日自動で異なるカテゴリの商品を楽天ROOMに投稿するシステムです。

## 機能

- **毎日自動実行**: GitHub Actionsで毎日9時(UTC)に自動実行
- **カテゴリローテーション**: 10カテゴリを順番に処理
- **AI生成レビュー**: テンプレートベースのレビュー文自動生成
- **投稿履歴管理**: すべての投稿データをJSON形式で保存
- **ログ記録**: 実行ログを自動保存

## セットアップ

### 前提条件
- GitHub アカウント
- Python 3.11以上

### インストール

1. このリポジトリをフォーク
2. GitHub Actionsが有効になっていることを確認
3. 以下のコマンドで依存パッケージをインストール:

```bash
pip install beautifulsoup4 requests
```

## 使用方法

### 自動実行
- デフォルトで毎日9時(UTC)に自動実行
- リポジトリの `data/posts/` に投稿データが保存されます

### 手動実行
GitHub Actions の「Run workflow」から手動実行可能:

1. リポジトリの「Actions」タブを開く
2. 「楽天ROOM自動投稿」ワークフローを選択
3. 「Run workflow」をクリック

### ログの確認
- `data/logs/` に日付別のログファイルが保存されます
- GitHub Actions の実行ログからも確認可能

## ディレクトリ構造

```
.
├── .github/
│   └── workflows/
│       └── auto-post.yml          # GitHub Actionsワークフロー
├── scripts/
│   └── rakuten_auto_poster_v2.py  # 自動投稿スクリプト
├── data/
│   ├── posts/                     # 投稿データ
│   │   ├── history.json           # 投稿履歴
│   │   └── post_*.json            # 個別投稿データ
│   └── logs/                      # ログファイル
└── README.md                      # このファイル
```

## カテゴリ一覧

システムは以下の10カテゴリを順番に処理します:

1. キッチン用品
2. ファッション
3. 家電
4. 食品
5. インテリア
6. スポーツ・アウトドア
7. ペット用品
8. 書籍・雑誌
9. ゲーム・おもちゃ
10. 健康・ダイエット

## レビュー文生成

レビュー文は以下の要素を組み合わせて生成されます:

- **テンプレート**: 5種類のレビュー文テンプレート
- **特徴**: 10種類の商品特徴
- **利点**: 10種類の利用者メリット
- **文字数**: 500文字以内

## 投稿ボタン

以下の4つのボタンからランダムに選択:
- かわいい!
- 欲しい!
- 買いました!
- 私のおすすめ!

## 投稿データ形式

各投稿は以下の情報を含むJSON形式で保存されます:

```json
{
  "product_name": "商品名",
  "category": "カテゴリ",
  "rating": 4.5,
  "reviews": 10000,
  "price": "5000円",
  "review_text": "レビュー文...",
  "button": "私のおすすめ!",
  "url": "https://...",
  "timestamp": "2026-02-03T09:00:00",
  "status": "posted"
}
```

## トラブルシューティング

### ワークフローが実行されない

1. GitHub Actions が有効になっているか確認
2. `.github/workflows/auto-post.yml` が正しく配置されているか確認
3. リポジトリの Settings > Actions > General で実行権限を確認

### スクリプトエラー

1. ログファイルを確認: `data/logs/`
2. Python バージョンが 3.11 以上か確認
3. 依存パッケージがインストールされているか確認

## 今後の改善予定

- [ ] 実際の楽天市場 API との連携
- [ ] 楽天 ROOM API を使用した直接投稿
- [ ] より詳細なレビュー文生成 AI
- [ ] Slack/メール通知機能
- [ ] エラー時の自動リトライ

## ライセンス

MIT License

## サポート

問題が発生した場合は、Issues を作成してください。

## 注意事項

このシステムは教育目的で作成されました。楽天市場の利用規約を遵守してください。
